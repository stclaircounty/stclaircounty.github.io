{{/*
  Case file card footer - link + metadata

  Params:
    - href: string - Link to detail page
    - type: string - "incident" | "deposition" | "evidence"
    - data: map - The data object
*/}}
{{ $href := .href }}
{{ $type := .type }}
{{ $data := .data }}

<div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
  <a href="{{ $href }}" class="text-accent hover:underline text-sm font-medium inline-flex items-center gap-1 group-hover:gap-2 transition-all">
    {{ if eq $type "incident" }}View incident{{ else if eq $type "deposition" }}Read deposition{{ else }}View evidence{{ end }}
    {{ partial "header-icon.html" (dict "icon" "chevron-right" "class" "h-4 w-4") }}
  </a>

  <div class="flex items-center gap-3">
    {{/* Related counts using stat component */}}
    {{ with $data.related_depositions }}
    {{ partial "components/stat.html" (dict "icon" "document" "count" (len .) "title" "Related depositions" "size" "sm") }}
    {{ end }}

    {{ with $data.people_involved }}
    {{ partial "components/stat.html" (dict "icon" "users" "count" (len .) "title" "People involved" "size" "sm") }}
    {{ end }}

    {{ with $data.related_people }}
    {{ partial "components/stat.html" (dict "icon" "users" "count" (len .) "title" "Related people" "size" "sm") }}
    {{ end }}

    {{ with $data.files }}
    {{ partial "components/stat.html" (dict "icon" "database" "count" (len .) "title" "Files" "size" "sm") }}
    {{ end }}

    {{ with $data.key_quotes }}
    {{ partial "components/stat.html" (dict "icon" "quote" "count" (len .) "title" "Key quotes" "size" "sm") }}
    {{ end }}
  </div>
</div>
