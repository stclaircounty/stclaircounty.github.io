{{/*
  List Header Partial (for list/index pages)

  Usage: {{ partial "list-header.html" (dict "page" . "icon" "documents" "count" (len .Pages)) }}

  Parameters:
    - page: The current page context (required)
    - icon: Icon type - "people", "documents", "calendar", "folder", "grid", etc. (optional)
    - title: Override title (optional, defaults to page title)
    - description: Description text (optional, defaults to page description)
    - count: Number of items in the list (optional)
    - count_label: Label for count (optional, defaults to "Items")
    - stats: Additional stats as slice of {value, label} (optional)
*/}}

{{ $page := .page }}
{{ $icon := .icon | default "grid" }}
{{ $title := .title | default $page.Title }}
{{ $description := .description | default $page.Description }}
{{ $count := .count }}
{{ $countLabel := .count_label | default "Items" }}
{{ $stats := .stats }}

<header class="relative overflow-hidden">
  {{ partial "header-bg.html" . }}

  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-14 md:py-16">
    <!-- Breadcrumb -->
    {{ partial "breadcrumb.html" (dict "page" $page "current" $title) }}

    <div class="flex flex-col lg:flex-row lg:items-end lg:justify-between gap-8">
      <!-- Title and description -->
      <div class="flex items-start gap-6">
        <!-- Icon with glow effect -->
        <div class="hidden sm:block relative flex-shrink-0">
          <div class="absolute -inset-1 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl blur opacity-40"></div>
          <div class="relative w-20 h-20 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-500 shadow-xl shadow-amber-500/25 flex items-center justify-center">
            {{ partial "header-icon.html" (dict "icon" $icon "class" "h-10 w-10 text-white") }}
          </div>
        </div>

        <div>
          <h1 class="text-4xl md:text-5xl font-extrabold text-white tracking-tight mb-3" style="text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 4px 20px rgba(0,0,0,0.6);">{{ $title }}</h1>
          {{ with $description }}
          <p class="text-lg text-slate-300 max-w-2xl leading-relaxed" style="text-shadow: 0 1px 4px rgba(0,0,0,0.7), 0 2px 12px rgba(0,0,0,0.5);">{{ . }}</p>
          {{ end }}
        </div>
      </div>

      <!-- Stats with glow -->
      <div class="flex flex-wrap items-center gap-4">
        {{ if $count }}
        <div class="group relative">
          <div class="absolute -inset-0.5 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl blur opacity-30 group-hover:opacity-50 transition duration-300"></div>
          <div class="relative text-center px-6 py-4 bg-slate-800/80 backdrop-blur rounded-xl border border-slate-700 group-hover:border-amber-500/50 transition-colors">
            <div class="text-4xl font-black text-white mb-1">{{ $count }}</div>
            <div class="text-sm text-slate-400 uppercase tracking-wide font-medium">{{ $countLabel }}</div>
          </div>
        </div>
        {{ end }}

        {{ range $stats }}
        <div class="group relative">
          <div class="absolute -inset-0.5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl blur opacity-30 group-hover:opacity-50 transition duration-300"></div>
          <div class="relative text-center px-6 py-4 bg-slate-800/80 backdrop-blur rounded-xl border border-slate-700 group-hover:border-purple-500/50 transition-colors">
            <div class="text-4xl font-black text-white mb-1">{{ .value }}</div>
            <div class="text-sm text-slate-400 uppercase tracking-wide font-medium">{{ .label }}</div>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </div>
</header>
