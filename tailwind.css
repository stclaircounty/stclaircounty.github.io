/* Tailwind CSS 4.1 - St. Clair County Accountability Site */
@import "tailwindcss";

/* ============================================================================
   THEME CONFIGURATION
   ============================================================================ */
@theme {
  /* Colors */
  --color-navy: #0f172a;
  --color-navy-light: #1e293b;
  --color-accent: #dc2626;
  --color-accent-dark: #b91c1c;
  --color-gold: #ca8a04;
  --color-gold-light: #eab308;
  --color-offwhite: #fafaf9;
  --color-slate: #334155;
  --color-slate-light: #64748b;

  /* Typography */
  --font-family-sans: "Inter", ui-sans-serif, system-ui, -apple-system, sans-serif;
  --font-family-display: "Inter", ui-sans-serif, system-ui, -apple-system, sans-serif;
  --font-family-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;

  /* Spacing scale adjustments */
  --spacing-prose: 1.5rem;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-card: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-card-hover: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
}

/* ============================================================================
   BASE STYLES
   ============================================================================ */
@layer base {
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-offwhite text-slate;
    font-family: var(--font-family-sans);
    font-size: 1rem;
    line-height: 1.625;
  }

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    @apply text-navy font-bold;
    font-family: var(--font-family-display);
    line-height: 1.25;
    letter-spacing: -0.025em;
  }

  h1 { @apply text-3xl sm:text-4xl; margin-bottom: 1rem; }
  h2 { @apply text-2xl sm:text-3xl; margin-top: 2rem; margin-bottom: 0.75rem; }
  h3 { @apply text-xl sm:text-2xl; margin-top: 1.5rem; margin-bottom: 0.5rem; }
  h4 { @apply text-lg sm:text-xl; margin-top: 1.25rem; margin-bottom: 0.5rem; }
  h5 { @apply text-base sm:text-lg font-semibold; margin-top: 1rem; margin-bottom: 0.25rem; }
  h6 { @apply text-sm sm:text-base font-semibold; margin-top: 1rem; margin-bottom: 0.25rem; }

  /* Links */
  a {
    @apply text-accent transition-colors duration-150;
  }
  a:hover {
    @apply text-accent-dark;
  }

  /* Paragraphs */
  p {
    margin-bottom: 1rem;
  }
  p:last-child {
    margin-bottom: 0;
  }

  /* Lists */
  ul, ol {
    margin-bottom: 1rem;
    padding-left: 1.5rem;
  }
  ul { list-style-type: disc; }
  ol { list-style-type: decimal; }
  li {
    margin-bottom: 0.375rem;
    line-height: 1.625;
  }
  li > ul, li > ol {
    margin-top: 0.375rem;
    margin-bottom: 0;
  }

  /* Blockquotes */
  blockquote {
    @apply border-l-4 border-accent bg-white;
    padding: 1rem 1.5rem;
    margin: 1.5rem 0;
    font-style: italic;
  }
  blockquote p:last-child {
    margin-bottom: 0;
  }

  /* Horizontal rules */
  hr {
    @apply border-gray-200;
    margin: 2rem 0;
  }

  /* Code */
  code {
    @apply bg-gray-100 text-navy rounded px-1.5 py-0.5 text-sm;
    font-family: var(--font-family-mono);
  }
  pre {
    @apply bg-gray-900 text-gray-100 rounded-lg overflow-x-auto;
    padding: 1rem 1.25rem;
    margin: 1.5rem 0;
  }
  pre code {
    @apply bg-transparent text-inherit p-0 text-sm;
  }

  /* Strong / Bold */
  strong, b {
    @apply font-semibold text-navy;
  }

  /* Tables - Base styling */
  table {
    @apply w-full text-sm;
    border-collapse: collapse;
    margin: 1.5rem 0;
  }
  thead {
    @apply bg-gray-50;
  }
  th {
    @apply text-left font-semibold text-navy border-b-2 border-gray-200;
    padding: 0.75rem 1rem;
    white-space: nowrap;
  }
  td {
    @apply border-b border-gray-100;
    padding: 0.75rem 1rem;
    vertical-align: top;
  }
  tbody tr:hover {
    @apply bg-gray-50;
  }

  /* Images */
  img {
    @apply max-w-full h-auto rounded-lg;
  }

  /* Focus styles */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-accent;
  }
}

/* ============================================================================
   PROSE STYLES - For markdown content
   ============================================================================ */
@layer components {
  .prose {
    @apply text-slate;
    font-size: 1rem;
    line-height: 1.75;
    max-width: 65ch;
  }

  .prose > * + * {
    margin-top: 1.25rem;
  }

  .prose h1 {
    @apply text-3xl font-bold text-navy;
    margin-top: 0;
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .prose h2 {
    @apply text-2xl font-bold text-navy;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #e5e7eb;
    line-height: 1.3;
  }

  .prose h3 {
    @apply text-xl font-bold text-navy;
    margin-top: 2rem;
    margin-bottom: 0.75rem;
    line-height: 1.4;
  }

  .prose h4 {
    @apply text-lg font-semibold text-navy;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .prose p {
    margin-bottom: 1.25rem;
  }

  .prose a {
    @apply text-accent font-medium;
    text-decoration: underline;
    text-underline-offset: 2px;
  }
  .prose a:hover {
    @apply text-accent-dark;
  }

  .prose strong {
    @apply font-semibold text-navy;
  }

  .prose ul {
    list-style-type: disc;
    padding-left: 1.625rem;
    margin-bottom: 1.25rem;
  }

  .prose ol {
    list-style-type: decimal;
    padding-left: 1.625rem;
    margin-bottom: 1.25rem;
  }

  .prose li {
    margin-bottom: 0.5rem;
    padding-left: 0.375rem;
  }

  .prose li > ul,
  .prose li > ol {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
  }

  .prose blockquote {
    @apply border-l-4 border-accent bg-gray-50 italic text-slate;
    padding: 1rem 1.5rem;
    margin: 1.5rem 0;
  }

  .prose blockquote p {
    margin-bottom: 0;
  }

  .prose hr {
    @apply border-gray-200;
    margin: 2.5rem 0;
  }

  .prose code {
    @apply bg-gray-100 text-navy rounded px-1.5 py-0.5;
    font-size: 0.875em;
    font-family: var(--font-family-mono);
  }

  .prose pre {
    @apply bg-navy text-gray-100 rounded-lg overflow-x-auto;
    padding: 1.25rem;
    margin: 1.5rem 0;
  }

  .prose pre code {
    @apply bg-transparent p-0 text-inherit;
    font-size: 0.875rem;
  }

  .prose img {
    @apply rounded-lg shadow-card;
    margin: 1.5rem 0;
  }

  /* Prose Tables - Clean, readable styling */
  .prose table {
    @apply w-full text-sm border border-gray-200 rounded-lg overflow-hidden;
    margin: 1.5rem 0;
    border-collapse: separate;
    border-spacing: 0;
  }

  .prose thead {
    @apply bg-gray-100;
  }

  .prose th {
    @apply text-left font-semibold text-navy bg-gray-100;
    padding: 0.875rem 1rem;
    border-bottom: 2px solid #e5e7eb;
  }

  .prose td {
    @apply text-slate;
    padding: 0.75rem 1rem;
    border-bottom: 1px solid #f3f4f6;
    vertical-align: top;
    line-height: 1.5;
  }

  .prose tbody tr:last-child td {
    border-bottom: none;
  }

  .prose tbody tr:hover {
    @apply bg-gray-50;
  }

  /* Wide prose for full-width layouts */
  .prose-lg {
    font-size: 1.0625rem;
    line-height: 1.75;
  }

  .prose.max-w-none {
    max-width: none;
  }
}

/* ============================================================================
   COMPONENT STYLES
   ============================================================================ */
@layer components {
  /* Cards */
  .card {
    @apply bg-white rounded-lg border border-gray-200;
    padding: 1.5rem;
    box-shadow: var(--shadow-card);
    transition: box-shadow 0.15s ease, transform 0.15s ease;
  }
  .card:hover {
    box-shadow: var(--shadow-card-hover);
  }

  /* Quote callout for damning statements */
  .quote-callout {
    @apply relative bg-white rounded-lg border-l-4 border-accent;
    padding: 1.25rem 1.5rem;
    margin: 1.5rem 0;
    box-shadow: var(--shadow-card);
  }
  .quote-callout::before {
    content: '"';
    @apply absolute text-accent/20 font-serif;
    font-size: 4rem;
    line-height: 1;
    top: -0.5rem;
    left: 0.5rem;
  }
  .quote-callout blockquote {
    @apply text-lg text-navy italic;
    margin: 0;
    padding: 0;
    border: none;
    background: none;
  }
  .quote-callout cite {
    @apply block mt-3 text-sm text-slate-light not-italic font-medium;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center rounded-full text-xs font-medium;
    padding: 0.25rem 0.625rem;
  }
  .badge-severity-critical {
    @apply bg-red-100 text-red-800;
  }
  .badge-severity-high {
    @apply bg-orange-100 text-orange-800;
  }
  .badge-severity-medium {
    @apply bg-yellow-100 text-yellow-800;
  }
  .badge-severity-low {
    @apply bg-gray-100 text-gray-700;
  }
  .badge-gold {
    @apply bg-gold/15 text-gold border border-gold/25;
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg font-medium transition-all duration-150;
    padding: 0.625rem 1.25rem;
    font-size: 0.9375rem;
  }
  .btn-primary {
    @apply bg-accent text-white;
    box-shadow: var(--shadow-sm);
  }
  .btn-primary:hover {
    @apply bg-accent-dark;
    box-shadow: var(--shadow-card);
  }
  .btn-secondary {
    @apply bg-navy text-white;
  }
  .btn-secondary:hover {
    @apply bg-navy-light;
  }
  .btn-outline {
    @apply border-2 border-navy text-navy bg-transparent;
  }
  .btn-outline:hover {
    @apply bg-navy text-white;
  }

  /* Stat cards */
  .stat-card {
    @apply bg-white rounded-lg text-center border border-gray-200;
    padding: 1.5rem;
    box-shadow: var(--shadow-card);
  }
  .stat-number {
    @apply text-4xl font-bold text-accent;
    line-height: 1.1;
  }
  .stat-label {
    @apply text-sm text-slate-light uppercase tracking-wide;
    margin-top: 0.5rem;
  }

  /* Timeline */
  .timeline-line {
    @apply absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200;
  }
  .timeline-dot {
    @apply absolute left-2.5 w-3 h-3 rounded-full border-2 border-white;
    box-shadow: 0 0 0 2px #e5e7eb;
  }
  .timeline-dot-critical { @apply bg-red-500; }
  .timeline-dot-high { @apply bg-orange-500; }
  .timeline-dot-medium { @apply bg-yellow-500; }
  .timeline-dot-low { @apply bg-gray-400; }

  /* Alert boxes */
  .alert {
    @apply rounded-lg border-l-4 p-4;
    margin: 1rem 0;
  }
  .alert-danger {
    @apply bg-red-50 border-red-500 text-red-800;
  }
  .alert-warning {
    @apply bg-yellow-50 border-yellow-500 text-yellow-800;
  }
  .alert-info {
    @apply bg-blue-50 border-blue-500 text-blue-800;
  }
  .alert-success {
    @apply bg-green-50 border-green-500 text-green-800;
  }

  /* Section headers */
  .section-header {
    @apply text-2xl font-bold text-navy pb-3 mb-6;
    border-bottom: 2px solid #e5e7eb;
  }

  /* Page hero */
  .page-hero {
    @apply bg-navy text-white;
    padding: 3rem 0;
  }
  .page-hero h1 {
    @apply text-white;
  }
  .page-hero p {
    @apply text-gray-300;
  }

  /* Content container */
  .content-container {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  .content-container-wide {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Line clamp utility */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* ============================================================================
   UTILITY CLASSES
   ============================================================================ */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Better spacing for dense content */
  .space-y-content > * + * {
    margin-top: 1.5rem;
  }

  /* Remove default margins for tight layouts */
  .no-prose-margin h1,
  .no-prose-margin h2,
  .no-prose-margin h3,
  .no-prose-margin h4,
  .no-prose-margin p {
    margin-top: 0;
    margin-bottom: 0;
  }
}

/* ============================================================================
   PRINT STYLES
   ============================================================================ */
@media print {
  body {
    @apply bg-white text-black;
  }

  .page-hero {
    @apply bg-gray-100 text-black;
    padding: 1rem 0;
  }

  .card {
    box-shadow: none;
    border: 1px solid #ccc;
    page-break-inside: avoid;
  }

  a {
    text-decoration: underline;
  }

  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }

  nav, footer, .btn, .no-print {
    display: none !important;
  }
}
